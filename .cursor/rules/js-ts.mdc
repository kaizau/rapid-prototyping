---
description:
globs: *.js,*.mjs,*.cjs,*.ts,*.jsx,*.tsx
alwaysApply: false
---

# JavaScript/TypeScript Rules

## Dependencies

- Use `pnpm` instead of `npm` to manage packages and run scripts.
- Prefer modern ES modules (import/export).

## Code Conventions

- Separate the concerns: state management, UI, and utilities.
- Prefer short circuiting with early returns to avoid deep nesting.
- Prefer for loops over chained array iteration methods.
- If needed, extend EventTarget to make state subscribable.

## UI Conventions

- Implement UI as standalone components that subscribe to state changes.
- Prefix DOM references with `$`.
- Use data attributes for DOM element selection.
- Use event delegation where appropriate.